# usage: submit_batch_jobs.sh train_T21_suite.input >& output.log &
# then, after completion (optional): submit_batch_jobs.sh --purge
# (will remove ALL non-essential output in current pwd - e.g the intermediate step training files).
# add DOCANA

CONFIG:
  # Final argument should be no. trainopts + 1
  BATCH_INFO:  sbatch  $SBATCH_TEMPLATES/SBATCH_Midway2.TEMPLATE 71

  # Python script to handle training.
  JOBNAME: $PRODUCTS/snpca/train_SALT2.py

  # Base files, used as starting point for training.
  PATH_INPUT_TRAIN: $SNTRAIN_ROOT/SALT2/base_training_files/00_jla_base

  # point to base (unperturbed) calibration files: Instrument and MagSys (aka SALTPATH)
  # this directory should contain a survey.yaml file
  PATH_INPUT_CALIB: $SNTRAIN_ROOT/SALT2/SALT2-2021/data

  # in SALT2.INFO file, write magshift or waveshift for all surveys
  # in list
  SURVEY_LIST_SAMEMAGSYS:  [CFA3, OTHER, CALAN_TOLOLO]
  SURVEY_LIST_SAMEFILTER:  [CFA1, CFA2, CFA3, OTHER, CALAN_TOLOLO]

  # define TRAINOPT variations in calibration
  TRAINOPT:
  - MAGSHIFT CSP B 0.02 MAGSHIFT CSP V 0.005 MAGSHIFT CSP g 0.03 MAGSHIFT CSP i 0.025 MAGSHIFT CSP r 0.0111 MAGSHIFT CSP u 0.09 WAVESHIFT CSP B 1.2 WAVESHIFT CSP V 1.4 WAVESHIFT CSP g 0.8 WAVESHIFT CSP i 1.12 WAVESHIFT CSP r 0.9 WAVESHIFT CSP u 1.4 MAGSHIFT CfA1 B 0.04 MAGSHIFT CfA1 I 0.006 MAGSHIFT CfA1 R 0.015 MAGSHIFT CfA1 U 0.02 MAGSHIFT CfA1 V 0.032 MAGSHIFT CfA2 B 0.05 MAGSHIFT CfA2 I 0.009 MAGSHIFT CfA2 R 0.018 MAGSHIFT CfA2 U 0.023 MAGSHIFT CfA2 V 0.008 MAGSHIFT CfA3_4SHOOTER2 B 0.09 MAGSHIFT CfA3_4SHOOTER2 I 0.03 MAGSHIFT CfA3_4SHOOTER2 R 0.031 MAGSHIFT CfA3_4SHOOTER2 Us 0.007 MAGSHIFT CfA3_4SHOOTER2 V 0.05 WAVESHIFT CfA3_4SHOOTER2 B 1.8 WAVESHIFT CfA3_4SHOOTER2 I 1.2 WAVESHIFT CfA3_4SHOOTER2 R 1.45 WAVESHIFT CfA3_4SHOOTER2 Us 1.9 WAVESHIFT CfA3_4SHOOTER2 V 2.0 MAGSHIFT CfA3_KEPLERCAM B 0.01 MAGSHIFT CfA3_KEPLERCAM Us 0.01 MAGSHIFT CfA3_KEPLERCAM V 0.01 MAGSHIFT CfA3_KEPLERCAM i 0.01 MAGSHIFT CfA3_KEPLERCAM r 0.01 WAVESHIFT CfA3_KEPLERCAM B 1.0 WAVESHIFT CfA3_KEPLERCAM Us 1.0 WAVESHIFT CfA3_KEPLERCAM V 1.0 WAVESHIFT CfA3_KEPLERCAM i 1.0 WAVESHIFT CfA3_KEPLERCAM r 1.0 MAGSHIFT CfA3_STANDARD B 0.015 MAGSHIFT CfA3_STANDARD I 0.02 MAGSHIFT CfA3_STANDARD R 0.043 MAGSHIFT CfA3_STANDARD U 0.009 MAGSHIFT CfA3_STANDARD V 0.011 WAVESHIFT CfA3_STANDARD B 0.018 WAVESHIFT CfA3_STANDARD I 0.021 WAVESHIFT CfA3_STANDARD R 0.09 WAVESHIFT CfA3_STANDARD U 0.05 WAVESHIFT CfA3_STANDARD V 0.018 MAGSHIFT SDSS g 0.019 MAGSHIFT SDSS i 0.018 MAGSHIFT SDSS r 0.017 MAGSHIFT SDSS u 0.016 MAGSHIFT SDSS z 0.015 WAVESHIFT SDSS g 1.1 WAVESHIFT SDSS i 1.2 WAVESHIFT SDSS r 1.3 WAVESHIFT SDSS u 1.4 WAVESHIFT SDSS z 1.5 MAGSHIFT SNLS g 0.08 MAGSHIFT SNLS i 0.07 MAGSHIFT SNLS r 0.09 MAGSHIFT SNLS z 0.02 WAVESHIFT SNLS g 1.5 WAVESHIFT SNLS i 1.9 WAVESHIFT SNLS r 2.0 WAVESHIFT SNLS z 0.5

  # where to save output
  OUTDIR: /home/patricka/University/Astrophysics/PhD/jacobian/outputs/all_systematics

#END_YAML

